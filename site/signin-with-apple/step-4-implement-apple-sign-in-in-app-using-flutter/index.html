
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Here we are using flutter and install required package to implemen">
      
      
      
      
        <link rel="prev" href="../step-3-configure-in-xcode/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.39">
    
    
      
        <title>Implement in App - Employee Handbook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Outfit:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Outfit";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#step-4-implement-apple-sign-in-in-app-using-flutter" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Employee Handbook" class="md-header__button md-logo" aria-label="Employee Handbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Employee Handbook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Implement in App
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Employee Handbook" class="md-nav__button md-logo" aria-label="Employee Handbook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Employee Handbook
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Employment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Employment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Your Employment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../leave/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calendar and Leave Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../payment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payments and Benefits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accident/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accidents, Misconduct and Disputes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conventions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Conventions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git-conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Conventions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version Conventions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git-multi-accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Multi Accounts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sign in with Apple | Flutter
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Sign in with Apple | Flutter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Apple Developer Account
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-2-set-up-apple-service-id/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set up Apple Service ID
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../step-3-configure-in-xcode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure in Xcode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Implement in App
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Implement in App
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#steps-to-get-the-p8-private-key-for-sign-in-with-apple" class="md-nav__link">
    <span class="md-ellipsis">
      Steps to Get the .p8 Private Key for Sign in with Apple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#steps-to-get-the-p8-private-key-for-sign-in-with-apple" class="md-nav__link">
    <span class="md-ellipsis">
      Steps to Get the .p8 Private Key for Sign in with Apple
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-Step Guide:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="step-4-implement-apple-sign-in-in-app-using-flutter">Step 4: Implement Apple Sign-In in App (Using Flutter)</h1>
<p><strong>1. Add Required Dependencies</strong></p>
<p>To begin integrating <strong>Sign in with Apple</strong> into your Flutter project, you’ll need to add the appropriate packages. Open the <code>pubspec.yaml</code> file and add the following dependency:</p>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.22.29.png" alt=""><figcaption><p>This must be in your pubspec.yaml file</p></figcaption></figure>

<p>Then, run:</p>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.23.47.png" alt=""><figcaption><p>Hit pub get in terminal/bash</p></figcaption></figure>

<p>This will install the <strong>sign_in_with_apple</strong> package which provides the API to handle the authentication process.</p>
<p><strong>2. Configure the iOS Project for Apple Sign-In</strong></p>
<p>You’ve already enabled <strong>Sign in with Apple</strong> capability in Xcode (as per the previous steps). Now, we need to make sure Flutter and Xcode are set up for the feature to work properly.</p>
<ul>
<li><strong>Open the iOS folder of your Flutter app</strong> in Xcode:</li>
<li>Navigate to <code>ios/Runner.xcworkspace</code> in your Flutter project and open it in Xcode.</li>
<li><strong>Update the Info.plist file</strong>:</li>
<li>Add the following to your <code>Info.plist</code> to configure the usage description and URL schemes for Apple Sign-In:</li>
</ul>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.26.05.png" alt=""><figcaption><p>configure this in Info.plist</p></figcaption></figure>

<p>Make sure to replace <code>"your.bundle.identifier"</code> with your app’s actual bundle ID.</p>
<ul>
<li><strong>Enable Keychain Sharing (Optional)</strong>:</li>
<li>If you want to enable seamless sign-in across multiple devices, make sure <strong>Keychain Sharing</strong> is enabled in Xcode. Go to the <strong>Signing &amp; Capabilities</strong> tab and add <strong>Keychain Sharing</strong>.</li>
</ul>
<p><strong>3. Implement the Apple Sign-In Logic</strong></p>
<p>Now, you need to implement the actual sign-in logic in your Flutter app using the <strong>sign_in_with_apple</strong> package.</p>
<ul>
<li><strong>Import the Apple Sign-In Package</strong>:&#x20;</li>
</ul>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.27.39.png" alt=""><figcaption><p>import the package in your UI</p></figcaption></figure>

<p>&#x20; <strong>Create the Apple Sign-In Button</strong>: You can add an Apple sign-in button to your app’s UI by using the built-in button widget:</p>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.29.42.png" alt=""><figcaption><p>you can customize your button</p></figcaption></figure>

<p><strong>Explanation of the <code>getAppleIDCredential</code> Method</strong>:</p>
<ul>
<li><code>AppleIDAuthorizationScopes.email</code> and <code>AppleIDAuthorizationScopes.fullName</code>: These are the data fields you’re requesting from Apple. You can ask for the user's email and full name.</li>
<li><code>identityToken</code>: A JWT token that you can verify on your backend server for secure sign-in.</li>
</ul>
<p><strong>4. Handle the Apple Sign-In Response</strong></p>
<p>You will get the user's email, identity token, and full name from Apple after a successful sign-in. Use these to authenticate the user in your app. This is what the response data looks like:</p>
<ul>
<li><strong>Email</strong>: May only be available the first time the user signs in.</li>
<li><strong>Full Name</strong>: The user’s first and last name (if provided).</li>
<li><strong>Identity Token</strong>: This JWT is used to verify the user's identity and can be used with a backend server for authentication.</li>
</ul>
<p><strong>5. Backend(Nodejs) flow</strong>&#x20;</p>
<p><strong>In backend (key id, Team id, service id , private key ) must be configured (setup in backend)</strong></p>
<p><strong>Required Parameters Explanation:</strong></p>
<ul>
<li><strong>TEAM_ID (<code>iss</code>)</strong>: Your <strong>Apple Developer Team ID</strong>. This can be found in your Apple Developer account.</li>
<li><strong>Key ID (<code>kid</code>)</strong>: The Key ID from the key you created in your Apple Developer account for <strong>Sign in with Apple</strong>.</li>
<li><em>The file will be named something like <code>AuthKey_XXXXXXXXXX.p8</code>, where <code>XXXXXXXXXX</code> is your <strong>Key ID</strong></em></li>
<li><strong>Service ID (<code>sub</code>)</strong>: This is your app’s <strong>Client ID</strong>, which is the <strong>Service ID</strong> you created in your Apple Developer account.</li>
<li><strong>Private Key (<code>.p8</code> file)</strong>: This is the private key downloaded from Apple Developer when you set up the <strong>Sign in with Apple</strong> key.</li>
</ul>
<p><strong>5.1 Generate .p8 file(private key)</strong></p>
<p>To obtain the <strong>Private Key (.p8 file)</strong> needed for generating the <strong>Client Secret</strong> for <strong>Sign in with Apple</strong>, you need to create it in your Apple Developer account. Here's how to do that step-by-step:</p>
<h4 id="steps-to-get-the-p8-private-key-for-sign-in-with-apple">Steps to Get the <code>.p8</code> Private Key for Sign in with Apple</h4>
<p><strong>5.1.1. Go to Apple Developer Account</strong></p>
<ul>
<li>Log in to your <a href="https://developer.apple.com/account/">Apple Developer Account</a>.</li>
</ul>
<p><strong>5.1.2. Navigate to the Keys Section</strong></p>
<ul>
<li>On the left-hand menu, under <strong>Certificates, Identifiers &amp; Profiles</strong>, select <strong>Keys</strong>.</li>
</ul>
<p><strong>5.1.3. Create a New Key</strong></p>
<ul>
<li>Click on the "+" button in the top-right corner to create a new key.</li>
</ul>
<p><strong>5.1.4. Configure the Key</strong></p>
<ul>
<li>Name your key something descriptive, like "Sign in with Apple Key."</li>
<li><strong>Check the box</strong> next to <strong>Sign in with Apple</strong> under the Key Services section.</li>
</ul>
<p><strong>5.1.5. Register the Key</strong></p>
<ul>
<li>Once you've enabled <strong>Sign in with Apple</strong>, click <strong>Continue</strong> and review your key information.</li>
<li>Click <strong>Register</strong> to complete the process.</li>
</ul>
<p><strong>5.1.6. Download the Private Key (.p8 file)</strong></p>
<ul>
<li>After registering, you will be prompted to download the <strong>.p8 private key</strong> file. This file is only available for download once, so <strong>make sure to save it securely</strong> (e.g., somewhere safe on your local machine or in a secure cloud storage).</li>
<li>The file will be named something like <code>AuthKey_XXXXXXXXXX.p8</code>, where <code>XXXXXXXXXX</code> is your <strong>Key ID</strong>.</li>
</ul>
<p><strong>5.1.7. Make a Note of the Key ID</strong></p>
<ul>
<li>As soon as the key is created, you will also receive a <strong>Key ID</strong>. Note this down because you will need it to generate the <strong>Client Secret (JWT)</strong> in your backend.</li>
</ul>
<p>Generate the <strong>Client Secret</strong> (JWT) in backend required for <strong>Sign in with Apple</strong></p>
<p>To generate the <strong>Client Secret</strong> (JWT) required for <strong>Sign in with Apple</strong>, you'll need to create a <strong>JSON Web Token (JWT)</strong> signed with your Apple Developer <strong>private key</strong> (<code>.p8</code> file). This is used to authenticate your app with Apple’s servers.</p>
<p>Here’s a step-by-step guide, focusing on how to generate the secret key (Client Secret) in <strong>Node.js</strong>. This method works regardless of whether you're using Node.js for your backend or want to understand the process better for any language.</p>
<h4 id="prerequisites">Prerequisites:</h4>
<ol>
<li><strong>Apple Developer Account</strong>: You should already have:</li>
<li><strong>App ID (Client ID)</strong>.</li>
<li><strong>Private Key (.p8)</strong> file.</li>
<li><strong>Key ID</strong> and <strong>Team ID</strong> from your Apple Developer account.</li>
<li><strong>jsonwebtoken</strong> library in Node.js (or similar library in other languages).</li>
</ol>
<h4 id="step-by-step-guide">Step-by-Step Guide:</h4>
<p><strong>1. Install <code>jsonwebtoken</code> and <code>fs</code> packages</strong></p>
<figure><img src="/assets/Screenshot 2024-10-18 at 12.59.28.png" alt=""><figcaption></figcaption></figure>

<p><strong>2. Generate the JWT (Client Secret) in Node.js</strong></p>
<p>Here’s an example of how to generate the <strong>JWT Client Secret</strong> using Node.js:</p>
<figure><img src="/assets/client-secret.webp" alt=""><figcaption></figcaption></figure>

<p><strong>3.Required Parameters Explanation:</strong></p>
<ul>
<li><strong>TEAM_ID (<code>iss</code>)</strong>: Your <strong>Apple Developer Team ID</strong>. This can be found in your Apple Developer account.</li>
<li><strong>Key ID (<code>kid</code>)</strong>: The Key ID from the key you created in your Apple Developer account for <strong>Sign in with Apple</strong>.</li>
<li><strong>Service ID (<code>sub</code>)</strong>: This is your app’s <strong>Client ID</strong>, which is the <strong>Service ID</strong> you created in your Apple Developer account.</li>
<li><strong>Private Key (<code>.p8</code> file)</strong>: This is the private key downloaded from Apple Developer when you set up the <strong>Sign in with Apple</strong> key.</li>
</ul>
<p><strong>4. JWT Fields:</strong></p>
<ul>
<li><code>iat</code> (Issued At): The current time in seconds (Unix time).</li>
<li><code>exp</code> (Expiration): The token's expiration time. Apple recommends that this token should not last more than 6 hours (3600 seconds * 6 = 21600 seconds).</li>
<li><code>aud</code>: Apple requires this to be <code>https://appleid.apple.com</code>.</li>
<li><code>sub</code>: Your <strong>Client ID</strong> (Service ID), which is the unique identifier for your app.</li>
<li><code>alg</code>: The encryption algorithm Apple uses is <code>ES256</code>.</li>
</ul>
<p><strong>5. What’s Next?</strong></p>
<p>Once you’ve generated the <strong>Client Secret</strong> (JWT), your backend can now use it to communicate with Apple's servers. This token is used when exchanging the <strong>authorization code</strong> or <strong>refresh token</strong> with Apple to authenticate and validate the user.</p>
<p>Now Example Request:&#x20;</p>
<figure><img src="/assets/request.webp" alt=""><figcaption></figcaption></figure>

<p>Now you are done.\
You can sign in with apple now.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../step-3-configure-in-xcode/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Configure in Xcode">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Configure in Xcode
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Skybase Innovations Pvt. Ltd.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://instagram.com/skybase.innovations" target="_blank" rel="noopener" title="instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.footer"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>